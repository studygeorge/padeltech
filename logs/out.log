2025-07-10 16:50:45 +03:00: ğŸ”§ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:
2025-07-10 16:50:45 +03:00: DB_HOST Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ: "127.0.0.1"
2025-07-10 16:50:45 +03:00: DB_NAME Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ: "u3188490_default"
2025-07-10 16:50:45 +03:00: DB_USER Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ: "u3188490_default"
2025-07-10 16:50:45 +03:00: DB_PORT Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ: "3306"
2025-07-10 16:50:45 +03:00: ğŸ”§ ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ:
2025-07-10 16:50:45 +03:00: Host: "127.0.0.1"
2025-07-10 16:50:45 +03:00: Port: 3306
2025-07-10 16:50:45 +03:00: User: "u3188490_default"
2025-07-10 16:50:45 +03:00: Database: "u3188490_default"
2025-07-10 16:50:45 +03:00: Has Password: true
2025-07-10 16:50:46 +03:00: ğŸ”Œ ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº Ğ±Ğ°Ğ·Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…...
2025-07-10 16:50:46 +03:00: ğŸ”§ ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ Ğ‘Ğ”:
2025-07-10 16:50:46 +03:00: DB_HOST: "127.0.0.1"
2025-07-10 16:50:46 +03:00: DB_NAME: "u3188490_default"
2025-07-10 16:50:46 +03:00: DB_USER: "u3188490_default"
2025-07-10 16:50:46 +03:00: DB_PORT: "3306"
2025-07-10 16:50:46 +03:00: typeof DB_HOST: string
2025-07-10 16:50:46 +03:00: ğŸ“Š ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ‘Ğ”: {
2025-07-10 16:50:46 +03:00:   host: '127.0.0.1',
2025-07-10 16:50:46 +03:00:   database: 'u3188490_default',
2025-07-10 16:50:46 +03:00:   user: 'u3188490_default',
2025-07-10 16:50:46 +03:00:   port: '3306',
2025-07-10 16:50:46 +03:00:   hasPassword: true
2025-07-10 16:50:46 +03:00: }
2025-07-10 16:50:46 +03:00: âœ… Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ°
2025-07-10 16:50:46 +03:00: ğŸ”„ Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹ Ñ Ğ±Ğ°Ğ·Ğ¾Ğ¹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…...
2025-07-10 16:50:47 +03:00: âœ… Ğ’ÑĞµ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ñ Ğ±Ğ°Ğ·Ğ¾Ğ¹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
2025-07-10 16:50:47 +03:00: ğŸ“‹ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹: [
2025-07-10 16:50:47 +03:00:   'americano_games',
2025-07-10 16:50:47 +03:00:   'americano_matches',
2025-07-10 16:50:47 +03:00:   'americano_players',
2025-07-10 16:50:47 +03:00:   'match_players',
2025-07-10 16:50:47 +03:00:   'match_scores',
2025-07-10 16:50:47 +03:00:   'matches',
2025-07-10 16:50:47 +03:00:   'tournament_pairs',
2025-07-10 16:50:47 +03:00:   'tournaments',
2025-07-10 16:50:47 +03:00:   'users'
2025-07-10 16:50:47 +03:00: ]
2025-07-10 16:50:47 +03:00: ğŸš€ Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½ Ğ½Ğ° Ğ¿Ğ¾Ñ€Ñ‚Ñƒ 3000
2025-07-10 16:50:47 +03:00: ğŸŒ Ğ ĞµĞ¶Ğ¸Ğ¼: production
2025-07-10 16:50:47 +03:00: ğŸ”— API Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ Ğ¿Ğ¾ Ğ°Ğ´Ñ€ĞµÑÑƒ: http://localhost:3000
2025-07-10 16:51:01 +03:00: ğŸš€ Telegram auth request received
2025-07-10 16:51:01 +03:00: ğŸ“¦ Request body: {
2025-07-10 16:51:01 +03:00:   id: 396717696,
2025-07-10 16:51:01 +03:00:   first_name: 'Ğ“ĞµĞ¾',
2025-07-10 16:51:01 +03:00:   username: 'manageryandi',
2025-07-10 16:51:01 +03:00:   photo_url: 'https://t.me/i/userpic/320/lHMsOyClrMQI1-DR-PfOBmqFYR0dRdt9U2VhE2H21mU.jpg',
2025-07-10 16:51:01 +03:00:   auth_date: 1752155460,
2025-07-10 16:51:01 +03:00:   hash: '24b90067d670463f10fbd9bbad21a9e0da6193a1c3c38ad191324c0a4cbc042f'
2025-07-10 16:51:01 +03:00: }
2025-07-10 16:51:01 +03:00: ğŸ” Checking if user exists in database...
2025-07-10 16:51:01 +03:00: âœ… User found in database
2025-07-10 16:51:01 +03:00: ğŸ“ User data updated
2025-07-10 16:51:01 +03:00: ğŸ« Generating JWT token...
2025-07-10 16:51:01 +03:00: âœ… Auth successful, sending response
2025-07-10 16:56:46 +03:00: ğŸš€ Telegram auth request received
2025-07-10 16:56:46 +03:00: ğŸ“¦ Request body: {
2025-07-10 16:56:46 +03:00:   id: 5525020749,
2025-07-10 16:56:46 +03:00:   first_name: 'George',
2025-07-10 16:56:46 +03:00:   username: 'workgeorgy',
2025-07-10 16:56:46 +03:00:   photo_url: 'https://t.me/i/userpic/320/LXm-xaN612C9mRit_FBNnFiTsBtzUuQfdz8-TSexkaZbrObc2wNvWP1nWCGUik2w.jpg',
2025-07-10 16:56:46 +03:00:   auth_date: 1752155805,
2025-07-10 16:56:46 +03:00:   hash: '8279313292acc9114a5a1c56e36f5cb1e6fb887c88e38dc3d1cea1f1678de017'
2025-07-10 16:56:46 +03:00: }
2025-07-10 16:56:46 +03:00: ğŸ” Checking if user exists in database...
2025-07-10 16:56:46 +03:00: ğŸ†• User not found, creating new user...
2025-07-10 16:56:46 +03:00: âœ… New user created with ID: 2
2025-07-10 16:56:46 +03:00: ğŸ« Generating JWT token...
2025-07-10 16:56:46 +03:00: âœ… Auth successful, sending response
2025-07-10 16:56:50 +03:00: ğŸ” Auth middleware started
2025-07-10 16:56:50 +03:00: ğŸ“‹ Authorization header: Present
2025-07-10 16:56:50 +03:00: ğŸ” Token found, length: 251
2025-07-10 16:56:50 +03:00: ğŸ” Token preview: eyJhbGciOiJIUzI1NiIs...
2025-07-10 16:56:50 +03:00: âœ… Token decoded successfully: { id: 2, username: 'workgeorgy' }
2025-07-10 16:56:50 +03:00: ğŸ‘¤ Looking for user with ID: 2
2025-07-10 16:56:50 +03:00: ğŸ‘¤ User query completed, found: 1 users
2025-07-10 16:56:50 +03:00: âœ… User found: { id: 2, username: 'workgeorgy', telegram_id: 5525020749 }
2025-07-10 16:56:50 +03:00: âœ… User attached to request object
2025-07-10 16:56:50 +03:00: ğŸ”§ Complete registration started
2025-07-10 16:56:50 +03:00: ğŸ” Request object keys: [
2025-07-10 16:56:50 +03:00:   '_readableState',   '_events',
2025-07-10 16:56:50 +03:00:   '_eventsCount',     '_maxListeners',
2025-07-10 16:56:50 +03:00:   'socket',           'httpVersionMajor',
2025-07-10 16:56:50 +03:00:   'httpVersionMinor', 'httpVersion',
2025-07-10 16:56:50 +03:00:   'complete',         'rawHeaders',
2025-07-10 16:56:50 +03:00:   'rawTrailers',      'joinDuplicateHeaders',
2025-07-10 16:56:50 +03:00:   'aborted',          'upgrade',
2025-07-10 16:56:50 +03:00:   'url',              'method',
2025-07-10 16:56:50 +03:00:   'statusCode',       'statusMessage',
2025-07-10 16:56:50 +03:00:   'client',           '_consuming',
2025-07-10 16:56:50 +03:00:   '_dumped',          'next',
2025-07-10 16:56:50 +03:00:   'baseUrl',          'originalUrl',
2025-07-10 16:56:50 +03:00:   '_parsedUrl',       'params',
2025-07-10 16:56:50 +03:00:   'query',            'res',
2025-07-10 16:56:50 +03:00:   'body',             '_body',
2025-07-10 16:56:50 +03:00:   'length',           'route',
2025-07-10 16:56:50 +03:00:   'user'
2025-07-10 16:56:50 +03:00: ]
2025-07-10 16:56:50 +03:00: ğŸ‘¤ req.user exists: true
2025-07-10 16:56:50 +03:00: ğŸ‘¤ req.user: { id: 2, username: 'workgeorgy', telegram_id: 5525020749 }
2025-07-10 16:56:50 +03:00: ğŸ“¦ Request body: { level: 'D', gender: 'male' }
2025-07-10 16:56:50 +03:00: ğŸ”§ Proceeding with registration completion for user ID: 2 with data: { level: 'D', gender: 'male' }
2025-07-10 16:56:50 +03:00: ğŸ”„ Executing SQL update...
2025-07-10 16:56:50 +03:00: âœ… SQL update completed, result: [ undefined, 1 ]
2025-07-10 16:56:50 +03:00: ğŸ”„ Fetching updated user...
2025-07-10 16:56:50 +03:00: âœ… Updated user retrieved: { id: 2, level: 'D', gender: 'male', registration_completed: 1 }
2025-07-10 16:56:50 +03:00: âœ… Sending successful response
2025-07-10 17:07:04 +03:00: ğŸ” Auth middleware started
2025-07-10 17:07:04 +03:00: ğŸ“‹ Authorization header: Present
2025-07-10 17:07:04 +03:00: ğŸ” Token found, length: 251
2025-07-10 17:07:04 +03:00: ğŸ” Token preview: eyJhbGciOiJIUzI1NiIs...
2025-07-10 17:07:04 +03:00: âœ… Token decoded successfully: { id: 2, username: 'workgeorgy' }
2025-07-10 17:07:04 +03:00: ğŸ‘¤ Looking for user with ID: 2
2025-07-10 17:07:04 +03:00: ğŸ‘¤ User query completed, found: 1 users
2025-07-10 17:07:04 +03:00: âœ… User found: { id: 2, username: 'workgeorgy', telegram_id: 5525020749 }
2025-07-10 17:07:04 +03:00: âœ… User attached to request object
2025-07-10 17:07:04 +03:00: âœ… Player level updated: { userId: '1', level: 'C+' }
2025-07-10 17:22:16 +03:00: ğŸš€ Telegram auth request received
2025-07-10 17:22:16 +03:00: ğŸ“¦ Request body: {
2025-07-10 17:22:16 +03:00:   id: 5525020749,
2025-07-10 17:22:16 +03:00:   first_name: 'George',
2025-07-10 17:22:16 +03:00:   username: 'workgeorgy',
2025-07-10 17:22:16 +03:00:   photo_url: 'https://t.me/i/userpic/320/LXm-xaN612C9mRit_FBNnFiTsBtzUuQfdz8-TSexkaZbrObc2wNvWP1nWCGUik2w.jpg',
2025-07-10 17:22:16 +03:00:   auth_date: 1752157336,
2025-07-10 17:22:16 +03:00:   hash: '60607cdb147a22c03124f952d9f6ee4623a9214aa3aad1ce43d2829671b3316e'
2025-07-10 17:22:16 +03:00: }
2025-07-10 17:22:16 +03:00: ğŸ” Checking if user exists in database...
2025-07-10 17:22:16 +03:00: âœ… User found in database
2025-07-10 17:22:16 +03:00: ğŸ“ User data updated
2025-07-10 17:22:16 +03:00: ğŸ« Generating JWT token...
2025-07-10 17:22:16 +03:00: âœ… Auth successful, sending response
